<!DOCTYPE html>
<html lang="en">
	<head>
    	<meta charset="utf-8">
    	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    	<meta name="viewport" content="width=device-width, initial-scale=1">
    	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    	<title>Faculty Course Preferences</title>

    	{% load static %}
    	<link href="{% static "css/availability.css" %}" rel="stylesheet">
	</head>
	<body>
  		{% include "navbar.html" %}
  		<button type="button" class="btn btn-info btn-xs" data-toggle="modal" data-target="#add-availability">+</button>

  		<div id="add-availability" class="modal fade" role="dialog">
      		<div class="modal-dialog">
        		<!-- Modal content-->
        		<div class="modal-content">
          			<div class="modal-header">
            			<button type="button" class="close" data-dismiss="modal">&times;</button>
            			<h4 class="modal-title">Set Availability</h4>
          			</div>
          			<div class="modal-body">
            			<form method="POST">{% csrf_token %}
            				<p>
            				{{ add_availability_form.day.label_tag }}
              				{{ add_availability_form.day }}
              				{{ add_availability_form.day.errors }}
              				</p>

              				<p>
              				<label for="id_start_time">Start Time:</label>
              				<input id="id_start_time" name="start_time" type="time" required="">
              				{{ add_availability_form.start_time.errors }}
              				</p>

              				<p>
              				<label for="id_end_time">End Time:</label>
              				<input id="id_end_time" name="end_time" type="time" required="">
              				{{ add_availability_form.end_time.errors }}
              				</p>

              				<p>
              				{{ add_availability_form.level.label_tag}}
              				{{ add_availability_form.level }}
              				{{ add_availability_form.level.errors }}
              				</p>

              				<button type="submit" name="add_availability_form" class="save btn btn-default">Submit</button>

            			</form>
          			</div>
          			<div class="modal-footer">
            			<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          			</div>
        		</div>
      		</div>
    	</div>

		<table class="calendar table table-bordered">
    	<thead>
        	<tr>
	            <th>&nbsp;</th>
	            <th width="20%">Monday</th>
	            <th width="20%">Tuesday</th>
	            <th width="20%">Wednesday</th>
	            <th width="20%">Thursday</th>
	            <th width="20%">Friday</th>
	        </tr>
	    </thead>
	    <tbody>
				{% for key, value in  availAtTime.items %}

				<tr>
						<td>{{ key }}</td>
						{% if value.mwf == "Preferred" %}
							<td class="no-events success" rowspan="1"></td>
						{% elif value.mwf == "Unavailable" %}
							<td class="no-events danger" rowspan="1"></td>
						{% else %}
							<td class="no-events" rowspan="1"></td>
						{% endif %}

						{% if value.tth == "Preferred" %}
							<td class="no-events success" rowspan="1"></td>
						{% elif value.mwf == "Unavailable" %}
							<td class="no-events danger" rowspan="1"></td>
						{% else %}
							<td class="no-events" rowspan="1"></td>
						{% endif %}

						{% if value.mwf == "Preferred" %}
							<td class="no-events success" rowspan="1"></td>
						{% elif value.mwf == "Unavailable" %}
							<td class="no-events danger" rowspan="1"></td>
						{% else %}
							<td class="no-events" rowspan="1"></td>
						{% endif %}


						{% if value.tth == "Preferred" %}
							<td class="no-events success" rowspan="1"></td>
						{% elif value.mwf == "Unavailable" %}
							<td class="no-events danger" rowspan="1"></td>
						{% else %}
							<td class="no-events" rowspan="1"></td>
						{% endif %}

						{% if value.mwf == "Preferred" %}
							<td class="no-events success" rowspan="1"></td>
						{% elif value.mwf == "Unavailable" %}
							<td class="no-events danger" rowspan="1"></td>
						{% else %}
							<td class="no-events" rowspan="1"></td>
						{% endif %}
				</tr>
				{% endfor %}
	    </tbody>
	</table>

	<!-- <script src="{% static "js/availability.js" %}"></script> -->

	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	</body>
</html>
